<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text Comparison Tool</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.1.0/diff.min.js"></script>
  <style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        background-color: #f4f4f9;
        color: #333;
    }
    .header-container {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    .logo {
        height: 60px;
    }
    .container {
        display: flex;
        justify-content: space-around;
        width: 100%;
        max-width: 1200px;
        margin: 20px 0;
    }
    .textarea-container {
        flex: 1;
        margin: 0 10px;
    }
    textarea {
        width: 100%;
        height: 400px;
        padding: 10px;
        box-sizing: border-box;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #fff;
    }
    button {
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: #fff;
    }
    button:hover {
        background-color: #0056b3;
    }
    .result-container {
        display: flex;
        justify-content: space-around;
        width: 100%;
        max-width: 1200px;
        margin-top: 5px;
    }
    .output-column {
        flex: 1;
        margin: 0 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 5px;
        white-space: pre-wrap;
        background-color: #fff;
        position: relative;
        padding-top: 5px;
    }
    .output-content {
        margin-top: 5px;
    }
    .copyButton {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: #28a745;
        color: #fff;
        border: none;
        border-radius: 5px;
        padding: 5px 20px;
        cursor: pointer;
    }
    .copyButton:hover {
        background-color: #218838;
    }
    .instructions {
        width: 100%;
        max-width: 800px;
        margin-top: 20px;
        background-color: #fff;
        padding: 15px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .instructions h2 {
        margin-bottom: 10px;
    }
    .instructions ol {
        margin-left: 20px;
    }
    .removed { background-color: #ffcccc; }
    .added { background-color: #ccffcc; }
    .stats {
        background-color: #f0f0f0;
        padding: 8px;
        margin-bottom: 10px;
        border-radius: 5px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        font-size: 14px;
    }
    .stats span { margin-right: 10px; }
    header, footer {
        background-color: #f0f0f0;
        padding: 10px;
        text-align: center;
        width: 100%;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    header h1 { margin-bottom: 5px; }
    footer {
        margin-top: 20px;
        font-size: 0.9em;
    }
    a { color: #007bff; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .buttons-container {
        display: flex;
        justify-content: center;
        width: 100%;
        max-width: 1200px;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <!-- Replace base64 below with your real logo if you want -->
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABx0lEQVR4nO2cQUrDUBCGP+Kyo7GIgwYKw7N4zCKXl9gsXRAIHsJ/hKkex2AZPjXUEy7r8PyLq1JWrVvbe9cDIDMzMzMzMzMzMzM7Jn+AX1zqMTssWXMcfwHcX8IY9P1t6/ro2fZ6hBKuWhCOvbzB+BtdLwrphD+OqHFTvnsb9tuf91lQ9th1A3L0RPoMx5H7ps2yf2C3YxRcqij7Pt/gDcXcfT5h/kB5fuHl1Itw4vOEvRA6nsv3p69pL/XOYOcA1DLq8nRtuDE4vrEn25a5YNwcDl/ZULxPQNptRHfYf/ONhFQzDci4F2xLoV3Sh7ZLUYlymtj6h9yGnGo5j8jcz0iLfCb7O9Nc9VoY8d7J/yBOgpmHxXKHUSC6QJNP1l6UfuGBfsd93+EwVjv6M0j3oOc+ZXlLpnkc/1esM6Y/oeGVWBmt+AKTYTnOy1QeAM01ApuJw3M+pyqk0oZj2DJ0F/VQ4cxb8FydtmBjG5BxiMNH3Xql7xkfybNePL2qOmZvz3h8LMzMzMzMzMzMzMz/ucfxfHk3uyzWRd0AAAAASUVORK5CYII="
           alt="Logo" class="logo">
      <div>
        <h1>Text Comparison Tool</h1>
        <p>Created by Ajay panjiyar |
          <a href="https://github.com/ajaypanjiyartech/AI_Data_Engineer_Agent" target="_blank">GitHub Repository</a></p>
      </div>
    </div>
  </header>

  <div class="instructions">
    <h2>Instructions</h2>
    <ol>
      <li>Paste or type your original text into the left textarea.</li>
      <li>Paste or type your modified text into the right textarea.</li>
      <li>Click the "Compare" button to see the differences.</li>
      <li>Review the results: added = green, removed = red, plus stats above.</li>
    </ol>
  </div>

  <div class="container">
    <div class="textarea-container">
      <textarea id="text1" placeholder="Paste original text here..."></textarea>
    </div>
    <div class="textarea-container">
      <textarea id="text2" placeholder="Paste modified text here..."></textarea>
    </div>
  </div>
  <div class="buttons-container">
    <button id="compareButton">Compare</button>
    <button id="resetButton">Reset</button>
  </div>
  <div class="result-container">
    <div id="outputOriginal" class="output-column">
      <button class="copyButton" onclick="copyToClipboard('outputOriginalContent')">Copy Original</button>
      <div class="output-content" id="outputOriginalContent"></div>
    </div>
    <div id="outputModified" class="output-column">
      <button class="copyButton" onclick="copyToClipboard('outputModifiedContent')">Copy Modified</button>
      <div class="output-content" id="outputModifiedContent"></div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Ajay panjiyar |
       <a href="https://github.com/ajaypanjiyartech/AI_Data_Engineer_Agent" target="_blank">GitHub Repository</a></p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('compareButton').addEventListener('click', () => {
            const text1 = document.getElementById('text1').value;
            const text2 = document.getElementById('text2').value;
            const outputOriginal = document.getElementById('outputOriginalContent');
            const outputModified = document.getElementById('outputModifiedContent');

            const diff = getDiff(text1, text2);
            outputOriginal.innerHTML = diff.original;
            outputModified.innerHTML = diff.modified;
        });

        document.getElementById('resetButton').addEventListener('click', () => {
            document.getElementById('text1').value = '';
            document.getElementById('text2').value = '';
            document.getElementById('outputOriginalContent').innerHTML = '';
            document.getElementById('outputModifiedContent').innerHTML = '';
        });
    });

    function getDiff(text1, text2) {
        const diff = { original: [], modified: [] };
        const text1Lines = text1.split('\n');
        const text2Lines = text2.split('\n');
        const maxLength = Math.max(text1Lines.length, text2Lines.length);

        let removedCount = 0;
        let addedCount = 0;

        for (let i = 0; i < maxLength; i++) {
            const lineNum = i + 1;
            const line1 = text1Lines[i] || '';
            const line2 = text2Lines[i] || '';

            const lineDiff = diffLines(line1, line2);
            removedCount += (lineDiff.original.match(/<span class="removed">/g) || []).length;
            addedCount += (lineDiff.modified.match(/<span class="added">/g) || []).length;

            diff.original.push(`<div>${lineNum}: ${lineDiff.original}</div>`);
            diff.modified.push(`<div>${lineNum}: ${lineDiff.modified}</div>`);
        }

        const originalStats = getTextStats(text1);
        const modifiedStats = getTextStats(text2);

        diff.original.unshift(`
            <div class="stats">
                <span>Words: ${originalStats.wordCount}</span>
                <span>Characters: ${originalStats.charCount}</span>
                <span>Removed: ${removedCount}</span>
            </div>
        `);
        diff.modified.unshift(`
            <div class="stats">
                <span>Words: ${modifiedStats.wordCount}</span>
                <span>Characters: ${modifiedStats.charCount}</span>
                <span>Added: ${addedCount}</span>
            </div>
        `);

        return { original: diff.original.join('\n'), modified: diff.modified.join('\n') };
    }

    function diffLines(line1, line2) {
        const diff = Diff.diffWordsWithSpace(line1, line2);
        let originalLine = '';
        let modifiedLine = '';
        diff.forEach(part => {
            const className = part.added ? 'added' : part.removed ? 'removed' : '';
            if (part.removed) {
                originalLine += `<span class="${className}">${escapeHtml(part.value)}</span>`;
            } else if (part.added) {
                modifiedLine += `<span class="${className}">${escapeHtml(part.value)}</span>`;
            } else {
                originalLine += escapeHtml(part.value);
                modifiedLine += escapeHtml(part.value);
            }
        });
        return { original: originalLine, modified: modifiedLine };
    }

    function getTextStats(text) {
        return {
            wordCount: text.trim() === "" ? 0 : text.trim().split(/\s+/).length,
            charCount: text.length
        };
    }

    function escapeHtml(string) {
        const entityMap = {
            '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;',
            "'": '&#39;', '/': '&#x2F;', '`': '&#x60;', '=': '&#x3D;'
        };
        return String(string).replace(/[&<>"'`=\/]/g, s => entityMap[s]);
    }

    function copyToClipboard(elementId) {
        const el = document.createElement('textarea');
        el.value = document.getElementById(elementId).innerText;
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
    }
  </script>
</body>
</html>

